(function(){var a='xtal-state-update';if(!customElements.get(a)){var b='make',c='rewrite',d=function(a){function d(){return babelHelpers.classCallCheck(this,d),babelHelpers.possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return babelHelpers.inherits(d,a),babelHelpers.createClass(d,[{key:'onInputPropsChange',value:function(){if((this._make||this._rewrite)&&this.history){var a;switch(babelHelpers.typeof(this.history)){case'object':a=window.history.state?Object.assign({},window.history.state):{},this.mergeDeep(a,this.history);break;case'string':case'number':a=this.history;}this.make?window.history.pushState(a,''):this.rewrite&&window.history.replaceState(a,'')}}},{key:'attributeChangedCallback',value:function(a,d,e){a===b?this._make=null!==e:a===c?this._rewrite=null!==e:void 0,this.onInputPropsChange()}},{key:'_upgradeProperty',value:function(a){if(this.hasOwnProperty(a)){var b=this[a];delete this[a],this[a]=b}}},{key:'connectedCallback',value:function(){var a=this;d.properties.forEach(function(b){return a._upgradeProperty(b)})}},{key:'mergeDeep',value:function(a,b){var c=this;if('object'===('undefined'===typeof a?'undefined':babelHelpers.typeof(a))&&'object'===('undefined'===typeof b?'undefined':babelHelpers.typeof(b))){for(var d in b){var e=b[d],f=a[d];if(e){if(!f){a[d]=e;continue}if(Array.isArray(e)&&Array.isArray(f)){if(0<f.length&&'undefined'===typeof f[0].id)continue;for(var g,h=function(){var a=e[j];if('undefined'===typeof a.id)return'continue';var b=f.find(function(b){return b.id===a.id});b?c.mergeDeep(b,a):f.push(a)},j=0,i=e.length;j<i;j++)g=h(),'continue'===g;continue}switch('undefined'===typeof e?'undefined':babelHelpers.typeof(e)){case'object':switch('undefined'===typeof f?'undefined':babelHelpers.typeof(f)){case'object':this.mergeDeep(f,e);break;default:console.log(d),a[d]=e;}break;default:a[d]=e;}}}return a}}},{key:'make',get:function(){return this._make},set:function(a){null===a?this.removeAttribute(b):this.setAttribute(b,'')}},{key:'rewrite',get:function(){return this._rewrite},set:function(a){a?this.setAttribute(c,''):this.removeAttribute(c)}},{key:'history',get:function(){return this._history},set:function(a){this._history=a,this.onInputPropsChange()}}],[{key:'properties',get:function(){return[b,c,'history']}},{key:'observedAttributes',get:function(){var a=d.properties;return[a[0],a[1]]}}]),d}(HTMLElement);customElements.define(a,d)}})();